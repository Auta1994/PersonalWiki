## Design a new authorized plugin in AuthPuppy [Back](./qa.md)

Firstly, create a `class.php` to contain your plugin, and here I have used myself as the plugin name.

```php
<?php
class apSoundtoothAuthenticator extends apAuthentication {
    /** title of the login page */
    protected $_name = "";
    
    public function initialize(sfWebRequest $request, apBaseIdentity $identity) {
        /** Nothing to do here */
    }
    
    public function process(sfAction $action, sfWebRequest $request, apBaseIdentity $identity) {
        $identity->identify("splash_only", new apDefaultUser(), $this);
    }
    
    public function render() {
        /** return the view you want */
        return include_partial('node/defaultAuthTemplate');
    }
}
```

Secondly, register your plugin in the config list: both `authpuppy/cache/frontend/dev/config/config_autoload.yml.php` and `authpuppy/cache/frontend/dev/prod/config_autoload.yml.php`

```php
<?php
// auto-generated by sfAutoloadConfigHandler
// date: 2016/07/06 18:43:51
return array(
    /** ... */
    // project_model
    'apsoundtoothauthenticator' => '/var/www/authpuppy/lib/model/authpuppycore/authentication/apSoundtoothAuthenticator.class.php',
);
```