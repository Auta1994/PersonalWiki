## React + Redux [Back](./../redux.md)

Actually Redux has no relation to React, but most people will use it with React, because in React, you can describe your UI with **state**, which can be managed by Redux.

### Installation

React bindings are not included in Redux by default. You need to install them explicitly:

```bash
npm install react-redux --save
```

### Presentational and Container Components

React bindings for Redux embrace the idea of **separating presentational and container components**.

|**Presentational Components**|**Container Components**
---:|:------------------------|:-----------------------
**Purpose**|How things look (markup, styles)|How things work (data fetching, state updates)
**Aware of Redux**|No|Yes
**To read data**|Read data from props|Subscribe to Redux state
**To change data**|Invoke callbacks rom props|Dispathc Redux actions
**Are written**|By hand|Usually generated by Reat Redux

Technically you could write the container components by hand using `store.subscribe()`. We don't advise you to do this because React Redux makes many performance optimizations that are hard to do by hand. For this reason, rather than write container components, we will generate them using the `connect()` function provided by React Redux, as you will see below.

#### Presentational Components

- **TodoList**: a list showing visible todo items.
    - `todos: Array` is an array of todo items with `{id, text, completed}` shape.
    - `onTodoClick(id: number)` is a callback to invoke when a todo is clicked.
- **Todo**: a single todo item.
    - `test: string` is the text to show
    - `completed: boolean` is whether todo item is completed.
    - `onClick()` invoke owner's function `onTodoClick()`.
- **Link**: a link with a callback
    - `onClick()` is a callback to invoke when a link is clicked.
- **Footer**: where we let the user change currently visibile todos;
- **App**: the root component that renders everything else.

#### Container Components

- **VisibilityTodoList**: to filter the todos according to the current visibility filter and renders a `TodoList`.
- **FilterLink**: to get he current visibility filter and render a `Link`.
    - `filter: string` is the visibility filter it represents.

#### Other Components

- **AddTodo**: an input field with an "Add" button

### Implementing Components

{%ace edit=false, lang='jsx', theme='tomorrow'%}
{/** components/Todo.jsx */}

import React, { PropTypes } from 'react';

const Todo = ({ onClick, completed, text }) => {
    return (
        <li
            onClick={onClick}
            style={{
                textDecoration: completed ? 'line-through' : 'none'
            }}
        >
            {text}
        </li>
    );
};

Todo.propTypes = {
    onClick: PropTypes.func.isRequired,
    completed: PropTypes.bool.isRequired,
    text: PropTypes.string.isRequired
};
{%endace%}

{%ace edit=false, lang='jsx', theme='tomorrow'%}
{/** components/TodoList.jsx */}

import React, { PropTypes } from 'react';
import Todo from './Todo.jsx';

const TodoList = ({ todos, onTodoClick }) => {
    return (
        <ul>
            {
                todos.map((todo) => (
                    <Todo
                        key={todo.id}
                        {..todo}
                        onClick={() => onTodoClick(todo.id)}
                    />
                ));
            }
        </ul>
    );
};

TodoList.propTypes = {
    todos: PropTypes.arrayOf(
        PropTypes.shape({
            id: PropTypes.number.isRequired,
            completed: PropTypes.bool.isRequired,
            text: PropTypes.string.isRequired
        }).isRequired
    ).isRequired;
};

export default TodoList;
{%endace%}

{%ace edit=false, lang='jsx', theme='tomorrow'%}
{/** components/Link.jsx */}

import React, { PropTypes } from 'react';

const Link = ({ active, children, onClick }) => {
    if (actve) {
        return (
            <span>{children}</span>
        );
    }
    
    return (
        <a
            href="#"
            onClick={
                (e) => {
                    e.preventDefault();
                    onClick();
                }
            }
        >
            {children}
        </a>
    );
};

Link.propTypes = {
    active: PropTypes.bool.isRequired,
    children: PropTypes.node.isRequired,
    onClick: PropTypes.func.isRequired
};

export default Link;
{%endace%}

{%ace edit=false, lang='jsx', theme='tomorrow'%}
{/** components/Footer.jsx */}

import React, { PropTypes } from 'react';
import FilterLink from './../containers/FilterLink.jsx';

const Footer = () = {
    return (
        <p>
            Show    
            {' '}
            <FilterLink filter="SHOW_ALL">
                All
            </FilterLink>
            {", "}
            <FilterLink filter="SHOW_ACTIVE">
                Active
            </FilterLink>
            {", "}
            <FilterLink filter="SHOW_COMPLETED">
                Completed
            </FilterLink>
        </p>
    );
};

export default Foot
{%endace%}

{%ace edit=false, lang='jsx', theme='tomorrow'%}
{/** components/App.jsx */}

import React, { PropTypes } from 'react';

const App = () = {
    
};
{%endace%}